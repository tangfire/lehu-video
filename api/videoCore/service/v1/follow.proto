syntax = "proto3";

package api.videoCore.service.v1;

option go_package = "lehu-video/api/videoCore/service/v1;v1";
option java_multiple_files = true;
option java_package = "api.videoCore.service.v1";
import "api/videoCore/service/v1/base.proto";


service FollowService {
	rpc AddFollow(AddFollowReq) returns (AddFollowResp);
	rpc RemoveFollow(RemoveFollowReq) returns (RemoveFollowResp);
	rpc ListFollowing(ListFollowingReq) returns (ListFollowingResp);
	rpc IsFollowing(IsFollowingReq) returns (IsFollowingResp);
	rpc CountFollow(CountFollowReq) returns (CountFollowResp);
}

message AddFollowReq{
	string user_id = 1;
	string target_user_id = 2;
}

message AddFollowResp{
	Metadata meta = 1;
}

message RemoveFollowReq{
	string user_id = 1;
	string target_user_id = 2;
}

message RemoveFollowResp{
	Metadata meta = 1;
}

enum FollowType{
	FOLLOWING = 0;
	FOLLOWER = 1;
	BOTH = 2;
}

message ListFollowingReq{
	string user_id = 1;
	FollowType follow_type = 2;
	PageStatsReq page_stats = 3;
}

message ListFollowingResp{
	Metadata meta = 1;
	repeated string user_id_list = 2;
	PageStatsResp page_stats = 3;
}

message IsFollowingReq{
	string user_id = 1;
	repeated string target_user_id_list = 2;
}

message IsFollowingResp{
	Metadata meta = 1;
	repeated string following_list = 2;
}

message CountFollowReq{
	string user_id = 1;
}

message CountFollowResp{
	Metadata meta = 1;
	int64 following_count = 2;
	int64 follower_count = 3;
}
